#ifndef FIELD_H
#define FIELD_H

#include <string>
#include "cell.h"

/*  ---------------------------------------------------------------------[<]-
    Class: field
    Synopsis: Представляє ігрове поле з клітинками типу cell. Містить
    інформацію про кількість рядків/стовпців та масив клітинок.
    ---------------------------------------------------------------------[>]*/
class field {
    cell** grid;
    int rows;
    int cols;

public:

    /*  ---------------------------------------------------------------------[<]-
        Constructor: field
        Synopsis: Конструктор за замовчуванням
        ---------------------------------------------------------------------[>]-*/
    field();

    /*  ---------------------------------------------------------------------[<]-
        Constructor: field
        Synopsis: Конструктор з переданим масивом клітинок та розмірами
        ---------------------------------------------------------------------[>]-*/
    field(cell** grid, int rows, int cols);


    /*  ---------------------------------------------------------------------[<]-
        Function: get_rows
        Synopsis: Повертає кількість рядків на полі
        ---------------------------------------------------------------------[>]-*/
    int get_rows();


    /*  ---------------------------------------------------------------------[<]-
        Function: get_cols
        Synopsis: Повертає кількість стовпців на полі
        ---------------------------------------------------------------------[>]-*/
    int get_cols();


    /*  ---------------------------------------------------------------------[<]-
        Function: get_field
        Synopsis: Повертає вказівник на двовимірний масив клітинок
        ---------------------------------------------------------------------[>]-*/
    cell** get_field();


    /*  ---------------------------------------------------------------------[<]-
        Function: set_rows
        Synopsis: Встановлює кількість рядків
        ---------------------------------------------------------------------[>]-*/
    void set_rows(int num);


    /*  ---------------------------------------------------------------------[<]-
        Function: set_cols
        Synopsis: Встановлює кількість стовпців
        ---------------------------------------------------------------------[>]-*/
    void set_cols(int num);


    /*  ---------------------------------------------------------------------[<]-
        Function: print_field
        Synopsis: Виводить поле у консоль
        ---------------------------------------------------------------------[>]-*/
    void print_field();


    /*  ---------------------------------------------------------------------[<]-
        Function: generate_field
        Synopsis: Генерує випадкове поле з деревами. Якщо tree_count = -1,
        кількість дерев обирається автоматично.
        ---------------------------------------------------------------------[>]-*/
    void generate_field(int tree_count = -1);


    /*  ---------------------------------------------------------------------[<]-
        Function: read_field_from_stdin
        Synopsis: Зчитує поле з консолі
        ---------------------------------------------------------------------[>]-*/
    void read_field_from_stdin();


    /*  ---------------------------------------------------------------------[<]-
        Function: load_field_from_file
        Synopsis: Завантажує поле з файлу
        ---------------------------------------------------------------------[>]-*/
    void load_field_from_file(const std::string& filename);


    /*  ---------------------------------------------------------------------[<]-
        Function: save_result
        Synopsis: Зберігає поточне поле у файл
        ---------------------------------------------------------------------[>]-*/
    void save_result(const std::string& filename);


    /*  ---------------------------------------------------------------------[<]-
        Function: cleanup_field
        Synopsis: Звільняє памʼять, виділену під поле
        ---------------------------------------------------------------------[>]-*/
    void cleanup_field();


    /*  ---------------------------------------------------------------------[<]-
        Function: cleanup_tents
        Synopsis: Видаляє всі намети з поля, залишаючи тільки дерева
        ---------------------------------------------------------------------[>]-*/
    void cleanup_tents();

};

#endif
